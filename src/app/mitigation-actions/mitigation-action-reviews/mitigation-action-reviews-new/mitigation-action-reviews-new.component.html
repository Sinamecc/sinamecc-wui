
<div class="container">
<mat-card>
  <h1>
    <mat-card-title translate>APP_NAME</mat-card-title>
    <app-loader [isLoading]="isLoading" size="1.5"></app-loader>
  </h1>
  <h3>
    <mat-card-title><span translate>Add a new review for this mitigation action</span></mat-card-title>
  </h3>
<mat-card-content>
  <form (ngSubmit)="submitForm()"*ngIf="formValues | async" [formGroup]="formGroup" novalidate>
    <div class="form-error" [hidden]="!error || isLoading" translate>
      <span translate>Error submitting the form.</span>
    </div>
    <br/>
    <div fxLayout="column">

      <mat-form-field>
          <mat-select  formControlName="review_status" placeholder="Mitigation Action Status" [compareWith]="compareIds">
              <mat-option *ngFor="let mitigationActionStatus of processedMitigationActionsStatusses" [value]="mitigationActionStatus.id">
                {{ mitigationActionStatus.status }}
              </mat-option>
            </mat-select>
      </mat-form-field>
      <br/>

      <mat-form-field>
        <textarea matInput formControlName="comment" [placeholder]="'Description of the review of the Mitigation Action' | translate" matTextareaAutosize
          matAutosizeMinRows="2" matAutosizeMaxRows="20"></textarea>
        <mat-error translate>This field is required</mat-error>
      </mat-form-field>
      <br/>

      <br/>

      <button mat-raised-button color="primary" type="submit" [disabled]="formGroup.invalid || isLoading">
        <app-loader class="inline-loader" [isLoading]="isLoading"></app-loader>
        <span translate>Submit Mitigation Action Review</span>
      </button>
    </div>
  </form>
</mat-card-content>
</mat-card>
</div>

<a mat-fab routerLink="/mitigation/actions">
  <mat-icon aria-label="Go to Mitigation Actions">undo</mat-icon>
</a>